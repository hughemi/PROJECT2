{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 340,
  "height": 228,
  "title": { "text": "Pop. Double Vaccinated (%) per Subregion"},
  "data": {
      "url": "https://raw.githubusercontent.com/hughemi/PROJECT2/main/subregion_double.csv"
  },
  "mark": "bar",
  "params": [
    {
      "name": "Region_highlight",
      "select": {"type": "point", "fields":["region"]}, "bind": "legend",
      "value": "Sub-Saharan Africa"
    }
  ],
  "encoding": {
    "x": {
        "field": "subregion",
        "type": "nominal",
        "scale": {"padding": 0.1},
        "sort": "y",
        "title": ""
      },
    "y": {
        "field": "ave_douvble_vax",
        "type": "quantitative",
        "title": "Population double vaccinated (%)"
      },
    "color": {
        "field": "region",
        "title": "Region",
        "scale": {
            "domain": [
            "East Asia & Pacific",
            "Europe & Central Asia",
            "Latin America & Caribbean",
            "Middle East & North Africa",
            "North America",
            "South Asia",
            "Sub-Saharan Africa"
            ],
            "range": [
              "#66c2a5",
              "#8da0cb",
              "#e5c494",
              "#e78ac3",
              "#a6d854",
              "#ffd92f",
              "#fc8d62"
            ]
          },
          "legend": {
            "orient": "none",
            "legendX": 5,
            "legendY": 5
          }        
      },
    "opacity": {
      "condition": {"param": "Region_highlight", "value": 1},
      "value": 0.2
    },
    "tooltip": [
      {"field": "region", "type": "nominal", "title": "Region"},
      {"field": "subregion", "type": "nominal", "title": "Subregion"},
      {"field": "ave_douvble_vax", "type": "nominal", "title": "Pop. double vaccinated (%)", "format": ".1f"}
    ]
  }
}